<!DOCTYPE html>

<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>UD_ModTrigger.psc</title><link rel="stylesheet" type="text/css" href="../styles/main.css" /><script type="text/javascript" src="../styles/main.js"></script><script type="text/javascript">NDLoader.LoadJS("Content", "../styles/");</script></head>

<!-- Generated by Natural Docs, version 2.2 -->

<!-- saved from url=(0016)http://localhost -->

<body onload="NDLoader.OnLoad('Content');" class="NDPage NDContentPage">

<a name="UD_ModTrigger"></a><a name="Topic386"></a><div class="CTopic TFile LPapyrus first">
 <div class="CTitle">UD_ModTrigger</div>
 <div id="NDPrototype386" class="NDPrototype"><div class="PSection PPlainSection">Scriptname UD_ModTrigger <span class="SHKeyword">extends</span> MiscObject Hidden</div></div>
 <div class="CBody"><p>This is base script of all triggers</p></div>
</div>

<a name="NameFull"></a><a name="Topic387"></a><div class="CTopic TVariable LPapyrus">
 <div class="CTitle">NameFull</div>
 <div id="NDPrototype387" class="NDPrototype"><div class="PSection PPlainSection">String Property NameFull Auto</div></div>
 <div class="CBody"><p>Full name of the trigger which is shown to the player</p></div>
</div>

<a name="Description"></a><a name="Topic388"></a><div class="CTopic TVariable LPapyrus">
 <div class="CTitle">Description</div>
 <div id="NDPrototype388" class="NDPrototype"><div class="PSection PPlainSection">String Property Description Auto</div></div>
 <div class="CBody"><p>Additional info about trigger shown in the modifier description</p></div>
</div>

<a name="Overrides"></a><a name="Topic389"></a><div class="CTopic TGroup LPapyrus">
 <div class="CTitle">Overrides</div>
</div>

<a name="Events_Processing"></a><a name="Topic390"></a><div class="CTopic TGroup LPapyrus">
 <div class="CTitle">Events Processing</div>
</div>

<a name="User_interface"></a><a name="Topic391"></a><div class="CTopic TGroup LPapyrus">
 <div class="CTitle">User interface</div>
</div>

<a name="Protected_methods"></a><a name="Topic392"></a><div class="CTopic TGroup LPapyrus">
 <div class="CTitle">Protected methods</div>
</div>

<a name="TriggerOnValueDelta"></a><a name="Topic393"></a><div class="CTopic TFunction LPapyrus">
 <div class="CTitle">TriggerOnValueDelta</div>
 <div id="NDPrototype393" class="NDPrototype WideForm"><div class="PSection PParameterSection CStyle"><table><tr><td class="PBeforeParameters">Bool Function TriggerOnValueDelta(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PType first">UD_CustomDevice_RenderScript&nbsp;</td><td class="PName">akDevice,</td><td></td><td class="last"></td></tr><tr><td class="PType first">String&nbsp;</td><td class="PName">asNameAlias,</td><td></td><td class="last"></td></tr><tr><td class="PType first">String&nbsp;</td><td class="PName">aiDataStr,</td><td></td><td class="last"></td></tr><tr><td class="PType first">Float&nbsp;</td><td class="PName">afValueDelta,</td><td></td><td class="last"></td></tr><tr><td class="PType first">Float&nbsp;</td><td class="PName">afMinAccum</td><td class="PDefaultValueSeparator">&nbsp;=&nbsp;</td><td class="PDefaultValue last"><span class="SHNumber">0.0</span>,</td></tr><tr><td class="PType first">Float&nbsp;</td><td class="PName">afProbBase</td><td class="PDefaultValueSeparator">&nbsp;=&nbsp;</td><td class="PDefaultValue last"><span class="SHNumber">100.0</span>,</td></tr><tr><td class="PType first">Float&nbsp;</td><td class="PName">afProbDelta</td><td class="PDefaultValueSeparator">&nbsp;=&nbsp;</td><td class="PDefaultValue last"><span class="SHNumber">0.0</span>,</td></tr><tr><td class="PType first">Float&nbsp;</td><td class="PName">afProbAccum</td><td class="PDefaultValueSeparator">&nbsp;=&nbsp;</td><td class="PDefaultValue last"><span class="SHNumber">0.0</span>,</td></tr><tr><td class="PType first">Bool&nbsp;</td><td class="PName">abRepeat</td><td class="PDefaultValueSeparator">&nbsp;=&nbsp;</td><td class="PDefaultValue last">False,</td></tr><tr><td class="PType first">Int&nbsp;</td><td class="PName">aiAccumParamIndex</td><td class="PDefaultValueSeparator">&nbsp;=&nbsp;</td><td class="PDefaultValue last"><span class="SHNumber">-1</span></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>This function is used to calculate and check probability to trigger on some value change with many options</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">akDevice<div class="CDLParameterType">UD_CustomDevice_RenderScript</div></td><td class="CDLDefinition"><p>Device with the modifier. Used to update its aiDataStr</p></td></tr><tr><td class="CDLEntry">asNameAlias<div class="CDLParameterType">String</div></td><td class="CDLDefinition"><p>Alias of the modifier. Used to update its aiDataStr</p></td></tr><tr><td class="CDLEntry">aiDataStr<div class="CDLParameterType">String</div></td><td class="CDLDefinition"><p>String with modifier parameters</p></td></tr><tr><td class="CDLEntry">afValueAbs</td><td class="CDLDefinition"><p>Absolute value (-1.0 if not used)</p></td></tr><tr><td class="CDLEntry">afValueDelta<div class="CDLParameterType">Float</div></td><td class="CDLDefinition"><p>The change of the value (0.0 if not used)</p></td></tr><tr><td class="CDLEntry">afMinAccum<div class="CDLParameterType">Float</div></td><td class="CDLDefinition"><p>Minimum accumulated value to trigger</p></td></tr><tr><td class="CDLEntry">afProbBase<div class="CDLParameterType">Float</div></td><td class="CDLDefinition"><p>Base probability to trigger on call</p></td></tr><tr><td class="CDLEntry">afProbDelta<div class="CDLParameterType">Float</div></td><td class="CDLDefinition"><p>Probability to trigger is proportional to the value change (afValueDelta)</p></td></tr><tr><td class="CDLEntry">afProbAccum<div class="CDLParameterType">Float</div></td><td class="CDLDefinition"><p>Probability to trigger is proportional to the accumulated value</p></td></tr><tr><td class="CDLEntry">abRepeat<div class="CDLParameterType">Bool</div></td><td class="CDLDefinition"><p>Repeat flag</p></td></tr><tr><td class="CDLEntry">aiAccumParamIndex<div class="CDLParameterType">Int</div></td><td class="CDLDefinition"><p>(index of the parameter in DataStr) Accumulated value in DataStr. Resets after trigger</p></td></tr></table><div class="CHeading">Returns</div><p>True if triggered</p></div>
</div>

<a name="TriggerOnValueAbs"></a><a name="Topic394"></a><div class="CTopic TFunction LPapyrus">
 <div class="CTitle">TriggerOnValueAbs</div>
 <div id="NDPrototype394" class="NDPrototype WideForm"><div class="PSection PParameterSection CStyle"><table><tr><td class="PBeforeParameters">Bool Function TriggerOnValueAbs(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PType first">UD_CustomDevice_RenderScript&nbsp;</td><td class="PName">akDevice,</td><td></td><td class="last"></td></tr><tr><td class="PType first">String&nbsp;</td><td class="PName">asNameAlias,</td><td></td><td class="last"></td></tr><tr><td class="PType first">String&nbsp;</td><td class="PName">aiDataStr,</td><td></td><td class="last"></td></tr><tr><td class="PType first">Float&nbsp;</td><td class="PName">afValueAbs,</td><td></td><td class="last"></td></tr><tr><td class="PType first">Float&nbsp;</td><td class="PName">afMinValue</td><td class="PDefaultValueSeparator">&nbsp;=&nbsp;</td><td class="PDefaultValue last"><span class="SHNumber">0.0</span>,</td></tr><tr><td class="PType first">Float&nbsp;</td><td class="PName">afProbBase</td><td class="PDefaultValueSeparator">&nbsp;=&nbsp;</td><td class="PDefaultValue last"><span class="SHNumber">100.0</span>,</td></tr><tr><td class="PType first">Float&nbsp;</td><td class="PName">afProbAccum</td><td class="PDefaultValueSeparator">&nbsp;=&nbsp;</td><td class="PDefaultValue last"><span class="SHNumber">0.0</span>,</td></tr><tr><td class="PType first">Bool&nbsp;</td><td class="PName">abRepeat</td><td class="PDefaultValueSeparator">&nbsp;=&nbsp;</td><td class="PDefaultValue last">False,</td></tr><tr><td class="PType first">Int&nbsp;</td><td class="PName">aiLastTriggerValueIndex</td><td class="PDefaultValueSeparator">&nbsp;=&nbsp;</td><td class="PDefaultValue last"><span class="SHNumber">-1</span></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>This function is used to calculate and check probability to trigger on some absolute value (positive, increased over time) with many options</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">akDevice<div class="CDLParameterType">UD_CustomDevice_RenderScript</div></td><td class="CDLDefinition"><p>Device with the modifier. Used to update its aiDataStr</p></td></tr><tr><td class="CDLEntry">asNameAlias<div class="CDLParameterType">String</div></td><td class="CDLDefinition"><p>Alias of the modifier. Used to update its aiDataStr</p></td></tr><tr><td class="CDLEntry">aiDataStr<div class="CDLParameterType">String</div></td><td class="CDLDefinition"><p>String with modifier parameters</p></td></tr><tr><td class="CDLEntry">afValueAbs<div class="CDLParameterType">Float</div></td><td class="CDLDefinition"><p>Absolute value</p></td></tr><tr><td class="CDLEntry">afMinValue<div class="CDLParameterType">Float</div></td><td class="CDLDefinition"><p>Minimum value to trigger</p></td></tr><tr><td class="CDLEntry">afProbBase<div class="CDLParameterType">Float</div></td><td class="CDLDefinition"><p>Base probability to trigger on call</p></td></tr><tr><td class="CDLEntry">afProbAccum<div class="CDLParameterType">Float</div></td><td class="CDLDefinition"><p>Probability to trigger is proportional to the value delta since the last trigger</p></td></tr><tr><td class="CDLEntry">abRepeat<div class="CDLParameterType">Bool</div></td><td class="CDLDefinition"><p>Repeat flag</p></td></tr><tr><td class="CDLEntry">aiLastTriggerValueIndex<div class="CDLParameterType">Int</div></td><td class="CDLDefinition"><p>(index of the parameter in DataStr) Last trigger value</p></td></tr></table><div class="CHeading">Returns</div><p>True if triggered</p></div>
</div>

<a name="_IsValidForm"></a><a name="Topic395"></a><div class="CTopic TFunction LPapyrus last">
 <div class="CTitle">_IsValidForm</div>
 <div id="NDPrototype395" class="NDPrototype WideForm"><div class="PSection PParameterSection CStyle"><table><tr><td class="PBeforeParameters">Bool Function _IsValidForm(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PType first">Form&nbsp;</td><td class="PName last">akFilter,</td></tr><tr><td class="PType first">Form&nbsp;</td><td class="PName last">akForm</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>Checks that the form fits the criteria of the specified filter</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">akFilter<div class="CDLParameterType">Form</div></td><td class="CDLDefinition"><p>filter can be specified in several ways. The filter implemented for inventory events is taken as a basis.&nbsp; If akFilter is a Form then akForm is checked by direct comparison.&nbsp; If akFilter is a Keyword then it checks that akForm has the given keyword.&nbsp; If akFilter is a FormList then akForm is checked against each element of the list in a way that depends on its type.</p></td></tr><tr><td class="CDLEntry">akForm<div class="CDLParameterType">Form</div></td><td class="CDLDefinition"><p>form to check</p></td></tr></table></div>
</div>

</body></html>